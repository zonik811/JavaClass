---
day: 6
title: "Switch y Men√∫s"
objective: "Crear men√∫s interactivos con switch y casos m√∫ltiples"
topics: ["switch", "case", "break", "default"]
miniProject: false
---
import ExerciseBlock from '../../components/ExerciseBlock.astro';
import QuizBlock from '../../components/QuizBlock.astro';
import QuizQuestion from '../../components/QuizQuestion.astro';
import Checklist from '../../components/Checklist.astro';

## üéØ Objetivo del D√≠a

Cuando tienes **muchas opciones** (como un men√∫ de restaurante), usar demasiados `if - else if` se vuelve desordenado y dif√≠cil de leer.
Para eso existe el **`switch`** (interruptor o conmutador): una forma limpia de elegir un camino entre muchos, bas√°ndose en un solo valor.

---

## üéõÔ∏è 1. Sintaxis del `switch`

El `switch` revisa una variable y salta directamente al "caso" (`case`) que coincida.

```java
int opcion = 2;

switch (opcion) {
    case 1:
        System.out.println("Elegiste Opci√≥n 1");
        break;
    case 2:
        System.out.println("Elegiste Opci√≥n 2");
        break;
    case 3:
        System.out.println("Elegiste Opci√≥n 3");
        break;
    default:
        System.out.println("Opci√≥n no v√°lida");
}
```

### Piezas clave:
1.  **`switch (variable)`**: La variable que eval√∫as (puede ser `int`, `String`, `char` o `Enum`).
2.  **`case valor:`**: Etiqueta para cada posible valor.
3.  **`break;`**: ¬°CRUCIAL! Detiene la ejecuci√≥n y sale del switch. Si lo olvidas, el c√≥digo sigue ejecutando los casos de abajo (esto se llama **fall-through**).
4.  **`default:`**: Es como el `else` final. Se ejecuta si ning√∫n caso coincidi√≥.

---

## üÜö 2. Switch vs If-Else

| Caracter√≠stica | `if - else if` | `switch` |
| :--- | :--- | :--- |
| **Uso** | Condiciones complejas (`x > 5`, `y && z`) | Condiciones de igualdad exacta (`x == 1`) |
| **Legibilidad** | Se puede volver un "spaghetti" si hay muchos anidados | Muy limpio para men√∫s o cat√°logos |
| **Tipos** | Cualquiera (`boolean`, comparaciones) | Limitado (`int`, `String`, `char`, etc.) |

---

## üí™ Ejercicios Guiados

<ExerciseBlock id={1} title="D√≠as de la Semana" difficulty="easy">
  Crea un programa que reciba un n√∫mero del 1 al 7 e imprima el d√≠a correspondiente (1=Lunes, 7=Domingo).
  Si el n√∫mero no es v√°lido, imprime "Error".
  
  <div slot="hint1">
    Usa `case 1:`, `case 2:`, etc. No olvides el `break`.
  </div>
  
  <div slot="solution">
```java
public class Dias {
    public static void main(String[] args) {
        int dia = 3;

        switch (dia) {
            case 1: System.out.println("Lunes"); break;
            case 2: System.out.println("Martes"); break;
            case 3: System.out.println("Mi√©rcoles"); break;
            case 4: System.out.println("Jueves"); break;
            case 5: System.out.println("Viernes"); break;
            case 6: System.out.println("S√°bado"); break;
            case 7: System.out.println("Domingo"); break;
            default: System.out.println("Error: D√≠a inv√°lido");
        }
    }
}
```
  </div>
</ExerciseBlock>

<ExerciseBlock id={2} title="Men√∫ de Comida (Strings)" difficulty="medium">
  Un robot mesero te pregunta qu√© quieres comer: "Pizza", "Hamburguesa" o "Ensalada".
  Usa un `switch` con un `String` para responder algo diferente en cada caso.
  
  <div slot="hint1">
    Java permite usar `String` en el switch. ¬°Aseg√∫rate de escribir los casos exactamente igual (may√∫sculas/min√∫sculas)!
  </div>
  
  <div slot="solution">
```java
import java.util.Scanner;

public class Mesero {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        
        System.out.println("Men√∫: Pizza, Hamburguesa, Ensalada");
        String comida = scanner.nextLine();
        
        // Convertimos a min√∫sculas pa evitar errores de tipeo
        switch (comida.toLowerCase()) {
            case "pizza":
                System.out.println("¬°Margarita o Peperoni!");
                break;
            case "hamburguesa":
                System.out.println("Con papas fritas.");
                break;
            case "ensalada":
                System.out.println("Muy saludable.");
                break;
            default:
                System.out.println("No tenemos eso en el men√∫.");
        }
    }
}
```
  </div>
</ExerciseBlock>

---

## üß± 3. Agrupando casos (El poder del "Fall-through")

A veces **queremos** que varios casos hagan lo mismo. Aqu√≠ es donde **no** poner `break` es √∫til.

```java
int mes = 2;

switch(mes) {
    case 12:
    case 1:
    case 2:
        System.out.println("Es Invierno");
        break;
    case 3:
    case 4:
    case 5:
        System.out.println("Es Primavera");
        break;
    // ...
}
```
*Si `mes` es 12, 1 o 2, imprimir√° "Es Invierno".*

---

## üìù Mini-Quiz

<QuizBlock day={6}>
  <QuizQuestion
    id={1}
    question="¬øQu√© palabra clave DETIENE la ejecuci√≥n dentro de un switch?"
    options={[
      { text: 'stop', correct: false },
      { text: 'exit', correct: false },
      { text: 'break', correct: true },
      { text: 'return', correct: false },
    ]}
  />
  
  <QuizQuestion
    id={2}
    question="¬øQu√© sucede si olvidas el 'break' en un case?"
    options={[
      { text: 'Da error de compilaci√≥n', correct: false },
      { text: 'Se ejecuta ese caso y TAMBI√âN los siguientes (fall-through)', correct: true },
      { text: 'El programa se cierra', correct: false },
    ]}
  />
  
  <QuizQuestion
    id={3}
    question="¬øSe puede usar 'double' (decimales) en un switch?"
    options={[
      { text: 'S√≠, sin problemas', correct: false },
      { text: 'No, no est√° permitido', correct: true },
    ]}
  />
</QuizBlock>

---

## ‚ö†Ô∏è 4. Errores Comunes

### 1. Olvidar el `break`
```java
int opcion = 1;

switch (opcion) {
    case 1:
        System.out.println("Uno");
        // ¬°FALTA EL break! Se ejecutar√° el caso 2 tambi√©n
    case 2:
        System.out.println("Dos");
        break;
    case 3:
        System.out.println("Tres");
        break;
}
// Salida: "Uno" y luego "Dos"
```
**Soluci√≥n**: Siempre pon `break` al final de cada `case` (a menos que quieras fall-through intencional).

### 2. Usar tipos no compatibles
```java
double precio = 9.99;
switch (precio) { // ¬°ERROR! switch no acepta double
    case 9.99:
        System.out.println("En oferta");
}
```
**Soluci√≥n**: Usa `if-else` para comparar decimales o convierte a otro tipo.

### 3. Comparar Strings sensibles a may√∫sculas
```java
String comando = "START";
switch (comando) {
    case "start": // No coincidir√°, porque "START" != "start"
        System.out.println("Iniciando...");
        break;
}
```
**Soluci√≥n**: Usa `.toLowerCase()` o `.toUpperCase()` antes del switch.

---

<ExerciseBlock id={3} title="Calculadora Mejorada con Switch" difficulty="medium">
  Reescribe la calculadora del D√≠a 5 usando `switch` en lugar de m√∫ltiples `if-else`.
  Usa los s√≠mbolos: "+", "-", "*", "/" como casos.
  
  <div slot="hint1">
    Lee la operaci√≥n como String y √∫sala en el switch.
  </div>
  
  <div slot="solution">
```java
import java.util.Scanner;

public class CalculadoraSwitch {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        
        System.out.println("Ingresa el primer n√∫mero:");
        double num1 = scanner.nextDouble();
        
        System.out.println("Ingresa el segundo n√∫mero:");
        double num2 = scanner.nextDouble();
        
        scanner.nextLine(); // Limpiar buffer
        
        System.out.println("Operaci√≥n (+, -, *, /):");
        String op = scanner.nextLine();
        
        switch (op) {
            case "+":
                System.out.println("Resultado: " + (num1 + num2));
                break;
            case "-":
                System.out.println("Resultado: " + (num1 - num2));
                break;
            case "*":
                System.out.println("Resultado: " + (num1 * num2));
                break;
            case "/":
                if (num2 != 0) {
                    System.out.println("Resultado: " + (num1 / num2));
                } else {
                    System.out.println("Error: Divisi√≥n por cero");
                }
                break;
            default:
                System.out.println("Operaci√≥n no v√°lida");
        }
        
        scanner.close();
    }
}
```
  </div>
</ExerciseBlock>

<ExerciseBlock id={4} title="Clasificador de Notas con Rangos" difficulty="hard">
  Crea un programa que convierta una nota num√©rica (0-100) a letra (A, B, C, D, F).
  - A: 90-100
  - B: 80-89
  - C: 70-79
  - D: 60-69
  - F: 0-59
  
  **Pista**: switch trabaja con valores exactos, as√≠ que tendr√°s que dividir la nota entre 10 primero.
  
  <div slot="hint1">
    Divide la nota entre 10 para obtener la decena: `int decena = nota / 10;`
  </div>
  
  <div slot="hint2">
    Usa fall-through para las decenas 9 y 10 (ambas son A).
  </div>
  
  <div slot="solution">
```java
import java.util.Scanner;

public class NotasLetra {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        
        System.out.println("Ingresa tu nota (0-100):");
        int nota = scanner.nextInt();
        
        int decena = nota / 10;
        
        switch (decena) {
            case 10:
            case 9:
                System.out.println("Tu calificaci√≥n es: A (Excelente)");
                break;
            case 8:
                System.out.println("Tu calificaci√≥n es: B (Bien)");
                break;
            case 7:
                System.out.println("Tu calificaci√≥n es: C (Aceptable)");
                break;
            case 6:
                System.out.println("Tu calificaci√≥n es: D (Apenas pasas)");
                break;
            default:
                System.out.println("Tu calificaci√≥n es: F (Reprobado)");
        }
        
        scanner.close();
    }
}
```
  </div>
</ExerciseBlock>

---

## üöÄ Reto: Sistema de Men√∫ ATM

Vas a simular el men√∫ de un cajero autom√°tico.

**Requisitos**:
1. El usuario tiene un **saldo inicial** de $1000.
2. Muestra un **men√∫** con 4 opciones:
   - `1` ‚Üí Ver Saldo
   - `2` ‚Üí Depositar
   - `3` ‚Üí Retirar
   - `4` ‚Üí Salir
3. Seg√∫n la opci√≥n, realiza la operaci√≥n correspondiente.
4. Para Depositar/Retirar, pide la cantidad y actualiza el saldo.
5. Valida que no se pueda retirar m√°s de lo disponible.

**Salida esperada** (ejemplo):
```
=== CAJERO AUTOM√ÅTICO ===
1. Ver Saldo
2. Depositar
3. Retirar
4. Salir
Elige una opci√≥n: 1

Tu saldo es: $1000.0
```

<div slot="hint1">
  Usa un `switch` con la variable de opci√≥n. Dentro de cada caso, realiza las operaciones correspondientes.
</div>

<div slot="hint2">
  Para Retirar, usa un `if` dentro del caso para verificar que `cantidad <= saldo`.
</div>

<div slot="solution">
```java
import java.util.Scanner;

public class ATM {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        
        double saldo = 1000.0;
        
        System.out.println("=== CAJERO AUTOM√ÅTICO ===");
        System.out.println("1. Ver Saldo");
        System.out.println("2. Depositar");
        System.out.println("3. Retirar");
        System.out.println("4. Salir");
        System.out.print("Elige una opci√≥n: ");
        
        int opcion = scanner.nextInt();
        
        switch (opcion) {
            case 1:
                System.out.println("\nTu saldo es: $" + saldo);
                break;
                
            case 2:
                System.out.print("\n¬øCu√°nto deseas depositar?: $");
                double deposito = scanner.nextDouble();
                
                if (deposito > 0) {
                    saldo += deposito;
                    System.out.println("Dep√≥sito exitoso. Nuevo saldo: $" + saldo);
                } else {
                    System.out.println("Cantidad inv√°lida.");
                }
                break;
                
            case 3:
                System.out.print("\n¬øCu√°nto deseas retirar?: $");
                double retiro = scanner.nextDouble();
                
                if (retiro > 0 && retiro <= saldo) {
                    saldo -= retiro;
                    System.out.println("Retiro exitoso. Nuevo saldo: $" + saldo);
                } else if (retiro > saldo) {
                    System.out.println("Fondos insuficientes.");
                } else {
                    System.out.println("Cantidad inv√°lida.");
                }
                break;
                
            case 4:
                System.out.println("\n¬°Gracias por usar nuestro cajero!");
                break;
                
            default:
                System.out.println("\nOpci√≥n no v√°lida.");
        }
        
        scanner.close();
    }
}
```
</div>

---

## üìù Mini-Quiz

<QuizBlock day={6}>
  <QuizQuestion
    id={1}
    question="¬øQu√© palabra clave DETIENE la ejecuci√≥n dentro de un switch?"
    options={[
      { text: 'stop', correct: false },
      { text: 'exit', correct: false },
      { text: 'break', correct: true },
      { text: 'return', correct: false },
    ]}
  />
  
  <QuizQuestion
    id={2}
    question="¬øQu√© sucede si olvidas el 'break' en un case?"
    options={[
      { text: 'Da error de compilaci√≥n', correct: false },
      { text: 'Se ejecuta ese caso y TAMBI√âN los siguientes (fall-through)', correct: true },
      { text: 'El programa se cierra', correct: false },
    ]}
  />
  
  <QuizQuestion
    id={3}
    question="¬øSe puede usar 'double' (decimales) en un switch?"
    options={[
      { text: 'S√≠, sin problemas', correct: false },
      { text: 'No, no est√° permitido', correct: true },
    ]}
  />
  
  <QuizQuestion
    id={4}
    question="¬øCu√°l es la ventaja principal de switch sobre m√∫ltiples if-else?"
    options={[
      { text: 'Es m√°s r√°pido en todos los casos', correct: false },
      { text: 'Mejor legibilidad cuando comparas un valor con m√∫ltiples opciones exactas', correct: true },
      { text: 'Puede hacer comparaciones complejas como x > 5', correct: false },
      { text: 'No necesita llaves {}', correct: false },
    ]}
  />
</QuizBlock>

---

## ‚úÖ Checklist de Logros

<Checklist
  items={[
    'Entiendo la estructura switch/case/break/default',
    'S√© cu√°ndo usar switch vs if-else',
    'S√© usar switch con n√∫meros y con texto (String)',
    'Entiendo c√≥mo agrupar casos omitiendo el break',
    '¬°Cre√© mi propio sistema de men√∫ ATM!'
  ]}
/>

---

## üí° Consejo Pro

En versiones modernas de Java (Java 12+), existe una sintaxis mejorada de `switch` llamada **"Switch Expressions"** que es m√°s elegante y no necesita `break`:

```java
// Switch tradicional (lo que aprendes hoy)
switch (dia) {
    case "LUNES":
        System.out.println("Inicio de semana");
        break;
    case "VIERNES":
        System.out.println("Fin de semana pronto");
        break;
}

// Switch moderno (Java 12+)
switch (dia) {
    case "LUNES" -> System.out.println("Inicio de semana");
    case "VIERNES" -> System.out.println("Fin de semana pronto");
}
```

¬°Pero primero domina el cl√°sico! Es lo que ver√°s en la mayor√≠a del c√≥digo existente.
